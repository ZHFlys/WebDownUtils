# WebDownUtils - 智能批量下载助手安装指南

## 🌐 浏览器兼容性

WebDownUtils 基于 **Manifest V3** 标准开发，为现代浏览器提供最佳体验：

| 浏览器 | 支持状态 | 功能完整度 | 最低版本 | 推荐指数 |
|--------|----------|------------|----------|----------|
| **Google Chrome** | ✅ 完全支持 | 100% | 88+ | ⭐⭐⭐⭐⭐ |
| **Microsoft Edge** | ✅ 完全支持 | 100% | 88+ | ⭐⭐⭐⭐⭐ |
| **Brave Browser** | ✅ 完全支持 | 95% | 1.20+ | ⭐⭐⭐⭐ |
| **Opera** | ⚠️ 基本支持 | 85% | 74+ | ⭐⭐⭐ |
| **Firefox** | ❌ 需转换 | 待开发 | - | ⭐⭐ |

## 📥 详细安装步骤

### 🔧 Chrome 浏览器安装（推荐）

1. **准备工作**
   - 确保Chrome版本 ≥ 88 (检查：`chrome://version/`)
   - 下载WebDownUtils项目源码
   - 解压到本地文件夹

2. **安装扩展**
   ```
   1. 打开 Google Chrome 浏览器
   2. 地址栏输入：chrome://extensions/
   3. 开启右上角的"开发者模式"开关
   4. 点击"加载已解压的扩展程序"按钮
   5. 选择WebDownUtils项目根目录
   6. 确认安装，扩展图标将出现在工具栏
   ```

3. **权限确认**
   - 扩展会请求以下权限：
     - `activeTab`: 访问当前标签页
     - `storage`: 保存设置信息
     - `downloads`: 管理文件下载
     - `webRequest`: 监听网络请求
     - `scripting`: 注入内容脚本
     - `contextMenus`: 右键菜单功能

### 🔧 Edge 浏览器安装

1. **安装步骤**
   ```
   1. 打开 Microsoft Edge 浏览器
   2. 地址栏输入：edge://extensions/
   3. 开启左下角的"开发人员模式"
   4. 点击"加载解压缩的扩展"
   5. 选择WebDownUtils项目文件夹
   6. 安装完成
   ```

2. **Edge特殊设置**
   - 确保允许扩展访问InPrivate窗口（可选）
   - 启用"允许来自其他商店的扩展"

### 🔧 Brave 浏览器安装

1. **安装步骤**
   ```
   1. 打开 Brave 浏览器
   2. 地址栏输入：brave://extensions/
   3. 开启右上角的"开发者模式"
   4. 点击"加载已解压的扩展程序"
   5. 选择项目文件夹
   6. 完成安装
   ```

2. **Brave特殊配置**
   - 可能需要在Shields设置中允许扩展运行
   - 确保隐私设置不会阻止扩展功能

### 🔧 Opera 浏览器安装

1. **安装步骤**
   ```
   1. 打开 Opera 浏览器
   2. 地址栏输入：opera://extensions/
   3. 开启右上角的"开发者模式"
   4. 点击"加载已解压的扩展程序"
   5. 选择WebDownUtils文件夹
   6. 安装完成
   ```

2. **功能限制说明**
   - 网络监听功能可能受限
   - 部分高级过滤功能可能不可用
   - 推荐使用Chrome或Edge获得最佳体验

## 🚀 首次使用配置

### 1. 基础设置配置
1. **点击扩展图标** - 打开主控制面板
2. **进入设置页面** - 点击右上角设置按钮
3. **配置下载路径** - 选择文件保存位置
4. **设置文件命名规则** - 选择合适的命名方式
5. **调整下载限制** - 设置最大文件数量和大小

### 2. 高级功能设置
```
下载配置：
├── 保存路径: 自定义下载文件夹
├── 文件命名: 原名/时间戳前缀/序号前缀
├── 文件夹管理: 按网站分类
├── 下载限制: 最大文件数/单文件大小
├── 智能阈值: 自动打包的文件数量阈值
└── 下载延迟: 文件间下载间隔

过滤配置：
├── 格式筛选开关: 启用/禁用格式筛选
├── 大小估算: 智能估算文件大小
└── 时间追踪: 记录文件获取时间
```

### 3. 权限设置检查
- **下载权限**: 确保浏览器允许多文件下载
- **文件访问**: 检查下载路径是否可写
- **网络权限**: 确认允许访问所有网站

## 🎯 核心功能介绍

### 📋 主要功能模块
1. **整页扫描**: 一键获取页面所有媒体文件
2. **区域选择**: 精确选择页面特定区域
3. **小红书专属**: 专门优化的小红书下载模式
4. **实时预览**: 边扫描边显示文件列表
5. **智能过滤**: 四级过滤系统精确筛选
6. **多种下载**: 支持7种不同的下载方式

### 🔍 四级过滤系统详解
```
第一级 - 来源过滤:
├── 全部文件
├── 页面文件 (DOM中的静态文件)
└── 网络文件 (动态加载的文件)

第二级 - 类型过滤:
├── 全部类型
├── 图片 (JPG/PNG/GIF/WebP/SVG等)
├── 视频 (MP4/WebM/AVI/MOV等)
├── 音频 (MP3/WAV/FLAC/AAC等)
└── 文档 (PDF/DOC/XLS/PPT/ZIP等)

第三级 - 大小过滤:
├── 全部大小
├── 小文件 (<1MB)
├── 中文件 (1-10MB)
├── 大文件 (>10MB)
└── 自定义范围 (支持KB/MB/GB单位)

第四级 - 格式过滤:
└── 具体文件格式筛选 (可配置开关)
```

### 💾 七种下载模式
1. **智能下载**: 根据文件数量自动选择下载方式
2. **ZIP打包**: 多文件自动压缩为ZIP包
3. **链接列表**: 生成TXT文件保存所有链接
4. **Markdown文档**: 生成带预览的MD文档
5. **Python脚本**: 生成Python批量下载代码
6. **批处理脚本**: 生成Windows BAT文件
7. **cURL脚本**: 生成Shell/Bash下载脚本

## ⚙️ 高级功能使用

### 🎨 小红书专属模式
- **启动方式**: 在小红书页面点击"小红书专属"按钮
- **功能特点**: 
  - 专门优化的内容识别算法
  - 自动过滤头像等无关图片
  - 支持动态加载内容获取
  - 实时监听视频文件

### 🖼️ 实时预览面板
- **图片网格**: 图片文件采用卡片网格布局
- **列表视图**: 非图片文件采用详细列表展示
- **即时预览**: 点击可即时预览图片/视频
- **拖拽窗口**: 支持拖拽移动和大小调整
- **折叠功能**: 筛选区域可折叠节省空间

### 🔄 网络监听功能
- **持续监听**: 实时监听网页网络请求
- **自动刷新**: 每3秒自动更新文件列表
- **智能去重**: 自动识别重复文件
- **类型识别**: 根据MIME类型智能分类

## ⚠️ 注意事项与限制

### 🚨 使用限制
- **同源策略**: 某些跨域文件可能无法下载
- **防爬保护**: 部分网站有反爬虫机制
- **文件大小**: 浏览器对单文件下载有大小限制
- **并发限制**: 同时下载文件数量有限制

### 🛡️ 安全注意事项
- **权限最小化**: 扩展仅请求必要权限
- **本地处理**: 所有数据在本地处理，不上传服务器
- **用户控制**: 所有操作需用户主动触发
- **HTTPS优先**: 优先处理HTTPS协议文件

### 💡 性能优化建议
- **内存要求**: 建议至少4GB RAM
- **网络环境**: 稳定网络连接确保下载成功
- **存储空间**: 确保足够的磁盘空间
- **浏览器版本**: 使用最新版本浏览器

## 🆘 常见问题解决

### ❓ 安装问题
**Q: 扩展无法加载**
```
A: 解决方案：
1. 检查浏览器版本是否支持Manifest V3
2. 确认已开启开发者模式
3. 检查文件夹权限是否可读
4. 临时关闭杀毒软件重试
5. 重启浏览器后再次尝试
```

**Q: 权限被拒绝**
```
A: 解决方案：
1. 手动授予扩展所需权限
2. 检查浏览器安全设置
3. 确认允许扩展访问所有网站
4. 重新安装扩展
```

### ❓ 功能问题
**Q: 无法下载文件**
```
A: 解决方案：
1. 检查浏览器下载权限设置
2. 确认下载路径可写入
3. 检查网站是否有防下载保护
4. 尝试更换下载模式
5. 清除浏览器缓存重试
```

**Q: 预览面板显示异常**
```
A: 解决方案：
1. 刷新页面重新扫描
2. 检查页面是否完全加载
3. 尝试关闭其他扩展冲突
4. 清除扩展存储数据
5. 重新安装扩展
```

**Q: 网络监听不工作**
```
A: 解决方案：
1. 确认扩展有webRequest权限
2. 检查浏览器隐私设置
3. 尝试刷新页面重新监听
4. 确认网站使用HTTPS协议
5. 重启浏览器服务
```

### ❓ 平台特殊问题

**Chrome/Edge 问题**
```
- 确保开启"允许访问文件网址"
- 检查扩展权限设置完整性
- 确认Chrome版本 ≥ 88
```

**Brave 问题**
```
- 关闭Shields保护功能
- 允许扩展在隐私模式运行
- 确认隐私设置不阻止扩展
```

**Opera 问题**
```
- 某些高级功能可能受限
- 网络监听功能可能不完整
- 建议使用Chrome获得最佳体验
```

## 🔧 开发者信息

### 📦 项目构建
```bash
# 检查项目完整性
cd WebDownUtils
node scripts/build.js

# 生成图标文件
python scripts/generate-icons.py

# 安装依赖
pip install -r scripts/requirements.txt
```

### 🚀 版本信息
- **当前版本**: v1.0.0
- **Manifest版本**: V3
- **最后更新**: 2024年
- **兼容性**: Chrome 88+, Edge 88+, Brave 1.20+

### 📞 技术支持
- **项目地址**: GitHub Repository
- **问题反馈**: Issues页面
- **功能建议**: Pull Request
- **技术文档**: docs/目录

## 🎉 安装成功验证

### ✅ 功能测试清单
1. **基础功能**
   - [ ] 扩展图标正常显示
   - [ ] 弹窗界面正常打开
   - [ ] 设置页面可以访问
   - [ ] 权限授予成功

2. **扫描功能**
   - [ ] 整页扫描正常工作
   - [ ] 区域选择功能可用
   - [ ] 预览面板正常显示
   - [ ] 文件列表正确加载

3. **过滤功能**
   - [ ] 四级过滤系统工作正常
   - [ ] 排序功能正确
   - [ ] 搜索功能可用
   - [ ] 统计信息准确

4. **下载功能**
   - [ ] 单文件下载成功
   - [ ] 批量下载正常
   - [ ] ZIP打包功能可用
   - [ ] 脚本生成正确

### 🎯 使用建议
1. **首次使用**: 建议先在简单页面测试基础功能
2. **设置调优**: 根据使用习惯调整过滤和下载设置
3. **定期更新**: 关注项目更新，获取最新功能
4. **反馈问题**: 遇到问题及时反馈，帮助改进

---

🎉 **恭喜！WebDownUtils已成功安装！**

立即开始体验智能批量下载的强大功能吧！如有任何问题，请查看[主文档](../README.md)或提交Issue反馈。 